# 16.7    Assignment Operator

- このようなシグニチャで実装される演算子
```
MyValue& MyValue::operator=(const MyValue&); 
```
- これはメソッドであってコンストラクタではない。すでに存在していて何かが代入されているオブジェクトの中身を代入演算子で書き換える
- コンストラクタではないので初期化リストによってではなく、メソッドのように関数本体で data fields を移し替える
  - [Listing 16.16](https://godbolt.org/z/s65GvY9xj) custom 代入演算子の実装の概要
- 代入演算子を実装する際の従うべきパターン
  1. if(this != &right) のチェックを行い self-assignments を避ける
  2. 書き換えの対象となる全てのリソースを事前に開放する
  3. 全ての要素を代入、もしくはコピーする。意図的に除外する場合はその旨をコメントする
  4. assignment chains　ができるよう、戻り地は *this を返す  
- 代入演算子とコピーコンストラクタの類似性
  - 両者とも通常は定義不要。組み込みデータ型、Standard コンテナ、そしてほとんどの標準ライブラリの型と同等以上のものをコンパイラは生成する
  - コピーコンストラクタやデストラクタを定義する必要がある時は大抵代入演算子も定義する必要があり、逆もまた然り 
- const なエレメントを変更できないのでそのようなクラスや構造体の代入演算子による代入はエラーとなり、コンパイラは deleted にする
